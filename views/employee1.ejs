<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <title>My Voting App</title>
</head>
<script>
    
    function updatedata(id) {
        const name1 = document.getElementById("name").value;
        const job1 = document.getElementById("job").value;
        const phonee = document.getElementById("phone").value;
        const address1 = document.getElementById("address").value;
        const city1 = document.getElementById("city").value;
        const state1 = document.getElementById("state").value;
        const primary1 = document.getElementById("primary").value;
        const phone11 = document.getElementById("phone1").value;
        const relation11 = document.getElementById("relation1").value;
        const second1 = document.getElementById("second").value;
        const phone21 = document.getElementById("phone2").value;
        const relation21 = document.getElementById("relation2").value;
        console.log(name1)
        console.log(job1)
          fetch(`/update-employee/${id}`, {
            method: 'put',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
                name:name1,
                job:job1,
                phone:phonee,
                address:address1,
                city:city1,
                state:state1,
                primary:primary1,
                phone1:phone11,
                relation1:relation11,
                second:second1,
                phone2:phone21,
                relation2:relation21
          
        })
          }).then((res) => {
            if(res.ok)
            {
              window.location.reload();
            }
          
          }).catch(err => console.error(err))
        }
</script>
<body class="bg-violet-500">
    <div class="px-5 py-5">
        <button class=" border bg-orange-800 hover:bg-green-800 px-2 py-1"><a href="/">Go Back</a></button>
    </div>
    <div style="width:1200px;height:auto;margin-top: 50px;margin-bottom: 50px; margin-left: auto;margin-right: auto;background-image: linear-gradient(43deg,rgba(157, 255, 242, 0.566),rgba(168, 255, 168, 0.566));border-radius: 40px;padding-top: 50px;">
        
        
        
        
            <div class="grid grid-cols-6">
                <div class="col-start-3 col-span-4">
                    <label class="text-4xl ">Employee Contact Form</label>
                </div>
                <div class="col-start-1 col-span-6">
                    <hr>
                </div>
                
                <div class="col-start-2 col-span-4">
                    <div class="py-5 text-xl ">
                        <label for="name">Employee Full Name</label>
                        <input type="text"  id="name" placeholder="Type your answer here" class="border border-gray-300 text-black-300 rounded p-2 w-full" value="<%=data.name %>">
                    </div>
                    <div class="py-3  text-xl">
                        <label for="job">Job Title</label>
                        <input type="text"  id="job" name="job" placeholder="Type your answer here" class="border border-gray-300 text-black-300 rounded p-2 w-full" value="<%=data.job %>">
                    </div>
                    <div class="py-3  text-xl">
                        <label for="phone">Phone Number</label>
                        <input type="tel"  id="phone" placeholder="+00 000 000 0000 " class="border border-gray-300 text-black-300 rounded p-2 w-full" value="<%=data.phone %>">
                    </div>
                    <div class="py-3 text-xl">
                        <label for="email">Email</label>
                        <input disabled type="email"  id="email" placeholder="johndoe@sample.com" class="border border-gray-300 text-black-300 rounded p-2 w-full" value="<%=data.email %>">
                    </div>
                    <div class="flex py-2">
                        <div class="flex-auto ">
                            <label for="address">Address</label>
                            <input type="text"  id="address" value="<%=data.address %>" placeholder="Type your answer here" class="border border-gray-300 text-black-300 rounded p-2 w-full">
                        </input>
                        </div>
                        <div class="flex-auto px-2">
                            <label for="city">City</label>
                            <input type="text"  id="city" value="<%=data.city %>" placeholder="Type your answer here" class="border border-gray-300 text-black-300 rounded p-2 w-full">
                        </div>
                        <div class="flex-none px-2">
                            <label for="state">State</label>
                            <input type="text"  id="state" value="<%=data.state %>" placeholder="Type your answer here" class="border border-gray-300 text-black-300 rounded p-2 w-full">
                        </div>
                    </div>
                    
                </div>

                <div class="col-start-2 col-span-4">
                    <div class="py-5 text-xl ">
                        <label for="Primary">Primary Emergency Contact</label>
                        <input type="text"  id="primary" value="<%=data.primary %>" placeholder="Jone Doe" class="border border-gray-300 text-black-300 rounded p-2 w-full">
                    </div>
                    
                    <div class="py-3  text-xl ">
                        <label for="phone1">Phone Number</label>
                        <input type="tel"  id="phone1" value="<%=data.phone1 %>" placeholder="+00 000 000 0000 " class="border border-gray-300 text-black-300 rounded p-2 w-full">
                    </div>
                    <div class="py-3 text-xl ">
                        <label for="relation1">Relationship</label>
                        <input type="text"   id="relation1" value="<%=data.relation1 %>" placeholder="Type your answer here" class="border border-gray-300 text-black-300 rounded p-2 w-full">
                    </div>
                    <div class="py-5 text-xl ">
                        <label for="second">Secondary Emergency Contact</label>
                        <input type="text"  id="second" value="<%=data.second %>" placeholder="Jone Doe" class="border border-gray-300 text-black-300 rounded p-2 w-full">
                    </div>
                    
                    <div class="py-3 text-xl ">
                        <label for="phone2">Phone Number</label>
                        <input type="tel"  id="phone2" value="<%=data.phone2 %>" placeholder="+00 000 000 0000 "class="border border-gray-300 text-black-300 rounded p-2 w-full">
                    </div>
                    <div class="py-3 text-xl ">
                        <label for="relation2">Relationship</label>
                        <input type="text"   id="relation2" value="<%=data.relation2 %>" placeholder="Type your answer here" class="border border-gray-300 text-black-300 rounded p-2 w-full">
                    </div>
                    
                </div>
                
                <div class=" col-start-3 col-span-2 ">

                    <div class="py-3 px-5">
                        <button type="update" onclick="updatedata(<%= data.id%>)" class="text-white bg-green-600 hover:bg-green-800 font-medium rounded px-5 py-2">Update details</button>
                    </div>
                </div>
                    
                
                
                </div>

        
                
                    
            </div>
       
    </div>
</body>
</html>